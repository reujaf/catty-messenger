{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{NativeWindStyleSheet as _NativeWindStyleSheet}from\"nativewind\";import{StyledComponent as _StyledComponent}from\"nativewind\";import React,{useState}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import KeyboardAvoidingView from\"react-native-web/dist/exports/KeyboardAvoidingView\";import Platform from\"react-native-web/dist/exports/Platform\";import Alert from\"react-native-web/dist/exports/Alert\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword}from'firebase/auth';import{ref,set}from'firebase/database';import{auth,database}from'../config/firebase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var LoginScreen=function LoginScreen(_ref){var navigation=_ref.navigation;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLogin=_useState2[0],setIsLogin=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setUsername=_useState8[1];var handleAuth=function(){var _ref2=_asyncToGenerator(function*(){try{if(isLogin){yield signInWithEmailAndPassword(auth,email,password);}else{var userCredential=yield createUserWithEmailAndPassword(auth,email,password);var user=userCredential.user;yield set(ref(database,`users/${user.uid}`),{email:email,username:username});}}catch(error){Alert.alert('Hata',error.message);}});return function handleAuth(){return _ref2.apply(this,arguments);};}();return _jsx(_StyledComponent,{behavior:\"web\"==='ios'?'padding':'height',className:\"flex-1 bg-surface\",component:KeyboardAvoidingView,children:_jsxs(_StyledComponent,{className:\"flex-1 justify-center items-center p-4\",component:View,children:[_jsx(_StyledComponent,{className:\"text-3xl font-bold text-primary mb-8\",component:Text,children:isLogin?'Giriş Yap':'Kayıt Ol'}),_jsxs(_StyledComponent,{className:\"w-full max-w-md\",component:View,children:[!isLogin&&_jsx(_StyledComponent,{className:\"w-full border border-gray-300 rounded-lg px-4 py-3 mb-4 bg-background\",placeholder:\"Kullan\\u0131c\\u0131 Ad\\u0131\",value:username,onChangeText:setUsername,autoCapitalize:\"none\",component:TextInput}),_jsx(_StyledComponent,{className:\"w-full border border-gray-300 rounded-lg px-4 py-3 mb-4 bg-background\",placeholder:\"E-posta\",value:email,onChangeText:setEmail,keyboardType:\"email-address\",autoCapitalize:\"none\",component:TextInput}),_jsx(_StyledComponent,{className:\"w-full border border-gray-300 rounded-lg px-4 py-3 mb-6 bg-background\",placeholder:\"\\u015Eifre\",value:password,onChangeText:setPassword,secureTextEntry:true,component:TextInput}),_jsx(_StyledComponent,{className:\"w-full bg-primary rounded-lg py-3 mb-4\",onPress:handleAuth,component:TouchableOpacity,children:_jsx(_StyledComponent,{className:\"text-white text-center font-semibold text-lg\",component:Text,children:isLogin?'Giriş Yap':'Kayıt Ol'})}),_jsx(_StyledComponent,{className:\"w-full\",onPress:function onPress(){return setIsLogin(!isLogin);},component:TouchableOpacity,children:_jsx(_StyledComponent,{className:\"text-center text-secondary\",component:Text,children:isLogin?'Hesabınız yok mu? Kayıt Olun':'Zaten hesabınız var mı? Giriş Yapın'})})]})]})});};export default LoginScreen;_NativeWindStyleSheet.create({styles:{\"mb-4\":{\"marginBottom\":16},\"mb-6\":{\"marginBottom\":24},\"mb-8\":{\"marginBottom\":32},\"w-full\":{\"width\":\"100%\"},\"max-w-md\":{\"maxWidth\":448},\"flex-1\":{\"flexGrow\":1,\"flexShrink\":1,\"flexBasis\":\"0%\"},\"items-center\":{\"alignItems\":\"center\"},\"justify-center\":{\"justifyContent\":\"center\"},\"rounded-lg\":{\"borderTopLeftRadius\":8,\"borderTopRightRadius\":8,\"borderBottomRightRadius\":8,\"borderBottomLeftRadius\":8},\"border\":{\"borderTopWidth\":1,\"borderRightWidth\":1,\"borderBottomWidth\":1,\"borderLeftWidth\":1},\"border-gray-300\":{\"borderTopColor\":\"#d1d5db\",\"borderRightColor\":\"#d1d5db\",\"borderBottomColor\":\"#d1d5db\",\"borderLeftColor\":\"#d1d5db\"},\"bg-background\":{\"backgroundColor\":\"#F8F8F8\"},\"bg-primary\":{\"backgroundColor\":\"#007AFF\"},\"bg-surface\":{\"backgroundColor\":\"#FFFFFF\"},\"p-4\":{\"paddingTop\":16,\"paddingRight\":16,\"paddingBottom\":16,\"paddingLeft\":16},\"px-4\":{\"paddingLeft\":16,\"paddingRight\":16},\"py-3\":{\"paddingTop\":12,\"paddingBottom\":12},\"text-center\":{\"textAlign\":\"center\"},\"font-bold\":{\"fontWeight\":\"700\"},\"font-semibold\":{\"fontWeight\":\"600\"},\"text-primary\":{\"color\":\"#007AFF\"},\"text-secondary\":{\"color\":\"#6B7280\"},\"text-white\":{\"color\":\"#fff\"},\"text-3xl\":{\"fontSize\":30,\"lineHeight\":36},\"text-lg\":{\"fontSize\":18,\"lineHeight\":28}}});","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","KeyboardAvoidingView","Platform","Alert","createUserWithEmailAndPassword","signInWithEmailAndPassword","ref","set","auth","database","jsx","_jsx","jsxs","_jsxs","LoginScreen","_ref","navigation","_useState","_useState2","_slicedToArray","isLogin","setIsLogin","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","username","setUsername","handleAuth","_ref2","_asyncToGenerator","userCredential","user","uid","error","alert","message","apply","arguments","_StyledComponent","behavior","className","component","children","placeholder","value","onChangeText","autoCapitalize","keyboardType","secureTextEntry","onPress","_NativeWindStyleSheet","create","styles"],"sources":["C:/Users/BLale/Desktop/Catty/screens/LoginScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  KeyboardAvoidingView,\r\n  Platform,\r\n  Alert,\r\n} from 'react-native';\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { ref, set } from 'firebase/database';\r\nimport { auth, database } from '../config/firebase';\r\n\r\nconst LoginScreen = ({ navigation }) => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [username, setUsername] = useState('');\r\n\r\n  const handleAuth = async () => {\r\n    try {\r\n      if (isLogin) {\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      } else {\r\n        const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n        const user = userCredential.user;\r\n        \r\n        // Kullanıcı bilgilerini veritabanına kaydet\r\n        await set(ref(database, `users/${user.uid}`), {\r\n          email: email,\r\n          username: username,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      Alert.alert('Hata', error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <KeyboardAvoidingView\r\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\r\n      className=\"flex-1 bg-surface\"\r\n    >\r\n      <View className=\"flex-1 justify-center items-center p-4\">\r\n        <Text className=\"text-3xl font-bold text-primary mb-8\">\r\n          {isLogin ? 'Giriş Yap' : 'Kayıt Ol'}\r\n        </Text>\r\n\r\n        <View className=\"w-full max-w-md\">\r\n          {!isLogin && (\r\n            <TextInput\r\n              className=\"w-full border border-gray-300 rounded-lg px-4 py-3 mb-4 bg-background\"\r\n              placeholder=\"Kullanıcı Adı\"\r\n              value={username}\r\n              onChangeText={setUsername}\r\n              autoCapitalize=\"none\"\r\n            />\r\n          )}\r\n\r\n          <TextInput\r\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-3 mb-4 bg-background\"\r\n            placeholder=\"E-posta\"\r\n            value={email}\r\n            onChangeText={setEmail}\r\n            keyboardType=\"email-address\"\r\n            autoCapitalize=\"none\"\r\n          />\r\n          \r\n          <TextInput\r\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-3 mb-6 bg-background\"\r\n            placeholder=\"Şifre\"\r\n            value={password}\r\n            onChangeText={setPassword}\r\n            secureTextEntry\r\n          />\r\n          \r\n          <TouchableOpacity \r\n            className=\"w-full bg-primary rounded-lg py-3 mb-4\"\r\n            onPress={handleAuth}\r\n          >\r\n            <Text className=\"text-white text-center font-semibold text-lg\">\r\n              {isLogin ? 'Giriş Yap' : 'Kayıt Ol'}\r\n            </Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity \r\n            className=\"w-full\"\r\n            onPress={() => setIsLogin(!isLogin)}\r\n          >\r\n            <Text className=\"text-center text-secondary\">\r\n              {isLogin ? 'Hesabınız yok mu? Kayıt Olun' : 'Zaten hesabınız var mı? Giriş Yapın'}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    </KeyboardAvoidingView>\r\n  );\r\n};\r\n\r\nexport default LoginScreen; "],"mappings":"0QAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,IAAA,iDAAAC,IAAA,iDAAAC,SAAA,sDAAAC,gBAAA,6DAAAC,oBAAA,iEAAAC,QAAA,qDAAAC,KAAA,2CAUxC,OAASC,8BAA8B,CAAEC,0BAA0B,KAAQ,eAAe,CAC1F,OAASC,GAAG,CAAEC,GAAG,KAAQ,mBAAmB,CAC5C,OAASC,IAAI,CAAEC,QAAQ,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,IAAA,CAAuB,IAAjB,CAAAC,UAAU,CAAAD,IAAA,CAAVC,UAAU,CAC/B,IAAAC,SAAA,CAA8BrB,QAAQ,CAAC,IAAI,CAAC,CAAAsB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAA0B1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAgC9B,QAAQ,CAAC,EAAE,CAAC,CAAA+B,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAgClC,QAAQ,CAAC,EAAE,CAAC,CAAAmC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5B,GAAM,CAAAG,UAAU,gBAAAC,KAAA,CAAAC,iBAAA,CAAG,WAAY,CAC7B,GAAI,CACF,GAAIhB,OAAO,CAAE,CACX,KAAM,CAAAf,0BAA0B,CAACG,IAAI,CAAEgB,KAAK,CAAEI,QAAQ,CAAC,CACzD,CAAC,IAAM,CACL,GAAM,CAAAS,cAAc,MAAS,CAAAjC,8BAA8B,CAACI,IAAI,CAAEgB,KAAK,CAAEI,QAAQ,CAAC,CAClF,GAAM,CAAAU,IAAI,CAAGD,cAAc,CAACC,IAAI,CAGhC,KAAM,CAAA/B,GAAG,CAACD,GAAG,CAACG,QAAQ,CAAE,SAAS6B,IAAI,CAACC,GAAG,EAAE,CAAC,CAAE,CAC5Cf,KAAK,CAAEA,KAAK,CACZQ,QAAQ,CAAEA,QACZ,CAAC,CAAC,CACJ,CACF,CAAE,MAAOQ,KAAK,CAAE,CACdrC,KAAK,CAACsC,KAAK,CAAC,MAAM,CAAED,KAAK,CAACE,OAAO,CAAC,CACpC,CACF,CAAC,iBAjBK,CAAAR,UAAUA,CAAA,SAAAC,KAAA,CAAAQ,KAAA,MAAAC,SAAA,OAiBf,CAED,OAAAjC,IAAA,CAAAkC,gBAAA,EAEIC,QAAQ,CAAE,QAAgB,KAAK,CAAG,SAAS,CAAG,QAAS,CACvDC,SAAS,CAAC,mBAAmB,CAAAC,SAAA,CAAA/C,oBAAA,CAAAgD,QAAA,CAAApC,KAAA,CAAAgC,gBAAA,EAEvBE,SAAS,CAAC,wCAAwC,CAAAC,SAAA,CAAAnD,IAAA,CAAAoD,QAAA,EAAAtC,IAAA,CAAAkC,gBAAA,EAChDE,SAAS,CAAC,sCAAsC,CAAAC,SAAA,CAAAlD,IAAA,CAAAmD,QAAA,CACnD7B,OAAO,CAAG,WAAW,CAAG,UAAU,GAAAP,KAAA,CAAAgC,gBAAA,EAG/BE,SAAS,CAAC,iBAAiB,CAAAC,SAAA,CAAAnD,IAAA,CAAAoD,QAAA,EAC9B,CAAC7B,OAAO,EAAAT,IAAA,CAAAkC,gBAAA,EAELE,SAAS,CAAC,uEAAuE,CACjFG,WAAW,CAAC,8BAAe,CAC3BC,KAAK,CAAEnB,QAAS,CAChBoB,YAAY,CAAEnB,WAAY,CAC1BoB,cAAc,CAAC,MAAM,CAAAL,SAAA,CAAAjD,SAAA,EAExB,CAAAY,IAAA,CAAAkC,gBAAA,EAGCE,SAAS,CAAC,uEAAuE,CACjFG,WAAW,CAAC,SAAS,CACrBC,KAAK,CAAE3B,KAAM,CACb4B,YAAY,CAAE3B,QAAS,CACvB6B,YAAY,CAAC,eAAe,CAC5BD,cAAc,CAAC,MAAM,CAAAL,SAAA,CAAAjD,SAAA,GAAAY,IAAA,CAAAkC,gBAAA,EAIrBE,SAAS,CAAC,uEAAuE,CACjFG,WAAW,CAAC,YAAO,CACnBC,KAAK,CAAEvB,QAAS,CAChBwB,YAAY,CAAEvB,WAAY,CAC1B0B,eAAe,MAAAP,SAAA,CAAAjD,SAAA,GAAAY,IAAA,CAAAkC,gBAAA,EAIfE,SAAS,CAAC,wCAAwC,CAClDS,OAAO,CAAEtB,UAAW,CAAAc,SAAA,CAAAhD,gBAAA,CAAAiD,QAAA,CAAAtC,IAAA,CAAAkC,gBAAA,EAEdE,SAAS,CAAC,8CAA8C,CAAAC,SAAA,CAAAlD,IAAA,CAAAmD,QAAA,CAC3D7B,OAAO,CAAG,WAAW,CAAG,UAAU,KAAAT,IAAA,CAAAkC,gBAAA,EAKrCE,SAAS,CAAC,QAAQ,CAClBS,OAAO,CAAE,QAAT,CAAAA,OAAOA,CAAA,QAAQ,CAAAnC,UAAU,CAAC,CAACD,OAAO,CAAC,EAAC,CAAA4B,SAAA,CAAAhD,gBAAA,CAAAiD,QAAA,CAAAtC,IAAA,CAAAkC,gBAAA,EAE9BE,SAAS,CAAC,4BAA4B,CAAAC,SAAA,CAAAlD,IAAA,CAAAmD,QAAA,CACzC7B,OAAO,CAAG,8BAA8B,CAAG,qCAAqC,aAO/F,CAAC,CAED,cAAe,CAAAN,WAAW,CAAC2C,qBAAA,CAAAC,MAAA,EAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}